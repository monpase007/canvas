{"version":3,"sources":["options.js","algoritm.js","Main.jsx","reportWebVitals.js","index.js"],"names":["options","time","gamma","delta","sX","sY","alpha","beta","multiplication","LodkaValterraFunc","x","y","Main","useState","data","setData","option","setOptions","getName","value","useEffect","payload","dx","time2","i","push","canvas","buildLine","ctx","color","data2","color2","minMax","yMin","yMax","xMin","xMax","padding","size","width","height","dpiSize","viewHeight","step","textStep","Ky","Kx","current","style","beginPath","text","Math","round","strokeStyle","font","fillStyle","fillText","moveTo","lineTo","stroke","closePath","lineWidth","forEach","type","min","max","el","useRef","getContext","ctx2","className","Object","keys","map","index","id","ref","param","minWidth","onChange","prev","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4f6bfbc9.chunk.js","sourcesContent":["export const options = {\r\n  time: 100,\r\n  gamma: 0.2,\r\n  delta: 0.0025,\r\n  sX: 60,\r\n  sY: 10,\r\n  alpha: 0.1,\r\n  beta: 0.002,\r\n}\r\nexport const multiplication = {\r\n  time: 1,\r\n  gamma: 100,\r\n  delta: 10000,\r\n  sX: 1,\r\n  sY: 1,\r\n  beta: 10000,\r\n  alpha: 200,\r\n}","\r\nexport const LodkaValterraFunc = (x, y, options) => {\r\n  const { alpha, beta, gamma, delta } = options;\r\n  const dxDt = (alpha - beta * y) * x;\r\n  const dyDt = (-gamma + delta * x) * y;\r\n  return [dxDt, dyDt]\r\n}","import React, { useEffect, useRef, useState } from 'react';\r\nimport './main.css';\r\nimport Slider from 'rc-slider';\r\nimport 'rc-slider/assets/index.css'\r\nimport * as option from './options'\r\nimport { LodkaValterraFunc } from './algoritm'\r\n\r\nfunction Main() {\r\n\r\n  const [data, setData] = useState({})\r\n  const [options, setOptions] = useState(option.options)\r\n  const multiplication = option.multiplication\r\n\r\n  const getName = (value) => {\r\n    switch (value) {\r\n      case `time`: return 'Время'\r\n      case `gamma`: return 'Гамма'\r\n      case `delta`: return 'Дельта'\r\n      case `sX`: return 'Начальное значение Х'\r\n      case `sY`: return 'Начальное значение У'\r\n      case `alpha`: return 'Хищники'\r\n      case `beta`: return 'Жертвы'\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    setData(() => {\r\n      const payload = {\r\n        dx: [],\r\n        time: [],\r\n        time2: [],\r\n      }\r\n      let x = options.sX;\r\n      let y = options.sY;\r\n      for (let i = 0; i < options.time; i++) {\r\n        payload.dx.push([x, y]);\r\n        payload.time2.push([i, x]);\r\n        payload.time.push([i, y]);\r\n        const [dx, dy] = LodkaValterraFunc(x, y, options);\r\n        x += dx;\r\n        y += dy;\r\n      }\r\n      return payload\r\n    })\r\n  }, [options])\r\n\r\n  let canvas = {}\r\n  canvas['1'] = useRef();\r\n  canvas['2'] = useRef();\r\n\r\n  function buildLine(canvas, ctx, data, color, data2, color2) {\r\n    const [yMin, yMax] = minMax(data, 'y')\r\n    const [xMin, xMax] = minMax(data, 'x')\r\n    const padding = 40\r\n    const countLine = 5\r\n    const size = { width: 400, height: 250 }\r\n    const dpiSize = { width: size.width * 2, height: size.height * 2 }\r\n    const viewHeight = dpiSize.height - (padding * 2)\r\n    const step = viewHeight / countLine\r\n    const textStep = (yMax - yMin) / countLine\r\n    const deltaY = (yMax - yMin)\r\n    const deltaX = (xMax - xMin)\r\n    const Ky = viewHeight / deltaY\r\n    const Kx = dpiSize.width / deltaX\r\n    canvas.current.style.width = `${size?.width}px`\r\n    canvas.current.style.height = `${size?.height}px`\r\n    canvas.current.width = dpiSize?.width\r\n    canvas.current.height = dpiSize?.height\r\n\r\n    ///////////////////////////////////////////\r\n\r\n    ctx.beginPath()\r\n    for (let i = 0; i <= countLine; i++) {\r\n      const y = step * i\r\n      const text = Math.round(yMax - textStep * i)\r\n      ctx.strokeStyle = '#bbb'\r\n      ctx.font = 'normal 30px sans-serif'\r\n      ctx.fillStyle = '#000'\r\n      ctx.fillText(text, 10, y + padding - 10)\r\n      ctx.moveTo(0, y + padding)\r\n      ctx.lineTo(dpiSize.width, y + padding)\r\n    }\r\n\r\n    ctx.stroke()\r\n    ctx.closePath()\r\n\r\n    ///////////////////////////////////////////\r\n\r\n    ctx.beginPath()\r\n    ctx.lineWidth = 5;\r\n    ctx.strokeStyle = color\r\n\r\n    data?.forEach(([x, y]) => {\r\n      ctx.lineTo(x * Kx, dpiSize.height - (y * Ky + padding))\r\n    })\r\n    ctx.stroke()\r\n\r\n    ctx.beginPath()\r\n    ctx.lineWidth = 5;\r\n    ctx.strokeStyle = color2\r\n\r\n    if (data2) {\r\n      data2?.forEach(([x, y]) => {\r\n        ctx.lineTo(x * Kx, dpiSize.height - (y * Ky + padding))\r\n      })\r\n    }\r\n    ctx.stroke()\r\n    ctx.closePath()\r\n  }\r\n\r\n  useEffect(() => {\r\n    // console.log(data.time2,'222',data.time,'111')\r\n    const ctx = canvas['1']?.current?.getContext('2d')\r\n    const ctx2 = canvas['2']?.current?.getContext('2d')\r\n    buildLine(canvas['1'], ctx, data.time, '#c4416a', data.time2, '#31a84b')\r\n    buildLine(canvas['2'], ctx2, data.dx, '#c4416a')\r\n  }, [data])\r\n\r\n  function minMax(data, type) {\r\n    let min\r\n    let max\r\n\r\n    data?.forEach((el) => {\r\n      const value = type === 'y' ? el[1] : el[0];\r\n      if (typeof min !== 'number') min = value\r\n      if (typeof max !== 'number') max = value\r\n      if (min > value) min = value\r\n      if (max < value) max = value\r\n    })\r\n    return [min, max == `Infinity` ? 1000000 : max]\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"App\">\r\n        <div className=\"appSignature title\">\r\n        Модель Лотки-Вольтерры. Выполнил Филиппов Юрий.\r\n        </div>\r\n        {Object.keys(canvas).map((el, index) => (\r\n          <div className=\"container\">\r\n            <div className=\"card\">\r\n              <canvas id='canvas' ref={canvas[`${index + 1}`]} className={'canvas'} />\r\n            </div>\r\n          </div>\r\n        ))}\r\n        <div className={`sliderBox`}>\r\n          {Object.keys(options).map((param) => (\r\n            <div className=\"btns_item\">\r\n              <div style={{ minWidth: '60px' }}>{getName(param)} : {options[param]}</div>\r\n              <Slider\r\n                value={options[param] * multiplication[param]}\r\n                onChange={(data) => { setOptions(prev => ({ ...prev, [param]: data / multiplication[param] })) }}\r\n                min={param === 'time' ? 10 : 0}\r\n                max={param === 'time' ? 200 : 20}\r\n              />\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div className=\"appSignature\">\r\n          <div className=\"item\">\r\n            <div className=\"circle green\" />\r\n            <div className=\"text\">\r\n              Жертвы\r\n          </div>\r\n          </div>\r\n          <div className=\"item\">\r\n            <div className=\"circle red\" />\r\n            <div className=\"text\">\r\n              Хищники\r\n          </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport Main from './Main.jsx';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Main />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}