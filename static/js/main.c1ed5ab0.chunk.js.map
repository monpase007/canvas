{"version":3,"sources":["options.js","algoritm.js","Main.jsx","reportWebVitals.js","index.js"],"names":["options","time","gamma","delta","sX","sY","alpha","beta","multiplication","LodkaValterraFunc","x","y","Main","useState","data","setData","option","setOptions","getName","value","useEffect","payload","dx","time2","i","push","canvas","buildLine","ctx","color","data2","color2","minMax","yMin","yMax","xMin","xMax","padding","size","width","height","dpiSize","viewHeight","step","textStep","Ky","Kx","current","style","beginPath","text","Math","round","strokeStyle","font","fillStyle","fillText","moveTo","lineTo","stroke","closePath","lineWidth","forEach","type","min","max","el","useRef","getContext","ctx2","className","Object","keys","map","index","id","ref","param","minWidth","onChange","prev","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0LAAaA,G,OAAU,CACrBC,KAAM,IACNC,MAAO,GACPC,MAAO,MACPC,GAAI,GACJC,GAAI,GACJC,MAAO,GACPC,KAAM,OAEKC,EAAiB,CAC5BP,KAAM,EACNC,MAAO,IACPC,MAAO,IACPC,GAAI,EACJC,GAAI,EACJE,KAAM,IACND,MAAO,KCfIG,EAAoB,SAACC,EAAGC,EAAGX,GACtC,IAAQM,EAA8BN,EAA9BM,MAAOC,EAAuBP,EAAvBO,KAAML,EAAiBF,EAAjBE,MAGrB,MAAO,EAFOI,EAAQC,EAAOI,GAAKD,GADIV,EAAVG,MAEGO,EAAhBR,GAAqBS,I,OC8KvBC,MA3Kf,WAEE,MAAwBC,mBAAS,IAAjC,mBAAOC,EAAP,KAAaC,EAAb,KACA,EAA8BF,mBAASG,GAAvC,mBAAOhB,EAAP,KAAgBiB,EAAhB,KACMT,EAAiBQ,EAEjBE,EAAU,SAACC,GACf,OAAQA,GACN,IAAI,OAAS,MAAO,iCACpB,IAAI,QAAU,MAAO,iCACrB,IAAI,QAAU,MAAO,uCACrB,IAAI,KAAO,MAAO,iHAClB,IAAI,KAAO,MAAO,iHAClB,IAAI,QAAU,MAAO,6CACrB,IAAI,OAAS,MAAO,yCAIxBC,qBAAU,WACRL,GAAQ,WAQN,IAPA,IAAMM,EAAU,CACdC,GAAI,GACJrB,KAAM,GACNsB,MAAO,IAELb,EAAIV,EAAQI,GACZO,EAAIX,EAAQK,GACPmB,EAAI,EAAGA,EAAIxB,EAAQC,KAAMuB,IAAK,CACrCH,EAAQC,GAAGG,KAAK,CAACf,EAAGC,IACpBU,EAAQE,MAAME,KAAK,CAACD,EAAGd,IACvBW,EAAQpB,KAAKwB,KAAK,CAACD,EAAGb,IACtB,MAAiBF,EAAkBC,EAAGC,EAAGX,GAAzC,mBACAU,GADA,KAEAC,GAFA,KAIF,OAAOU,OAER,CAACrB,IAEJ,IAAI0B,EAAS,GAIb,SAASC,EAAUD,EAAQE,EAAKd,EAAMe,EAAOC,EAAOC,GAClD,MAAqBC,EAAOlB,EAAM,KAAlC,mBAAOmB,EAAP,KAAaC,EAAb,KACA,EAAqBF,EAAOlB,EAAM,KAAlC,mBAAOqB,EAAP,KAAaC,EAAb,KACMC,EAAU,GAEVC,EAAO,CAAEC,MAAO,IAAKC,OAAQ,KAC7BC,EAAU,CAAEF,MAAoB,EAAbD,EAAKC,MAAWC,OAAsB,EAAdF,EAAKE,QAChDE,EAAaD,EAAQD,OAAUH,GAC/BM,EAAOD,EAJK,EAKZE,GAAYV,EAAOD,GALP,EAQZY,EAAKH,GAFKR,EAAOD,GAGjBa,EAAKL,EAAQF,OAFHH,EAAOD,GAGvBT,EAAOqB,QAAQC,MAAMT,MAArB,iBAAgCD,QAAhC,IAAgCA,OAAhC,EAAgCA,EAAMC,MAAtC,MACAb,EAAOqB,QAAQC,MAAMR,OAArB,iBAAiCF,QAAjC,IAAiCA,OAAjC,EAAiCA,EAAME,OAAvC,MACAd,EAAOqB,QAAQR,MAAf,OAAuBE,QAAvB,IAAuBA,OAAvB,EAAuBA,EAASF,MAChCb,EAAOqB,QAAQP,OAAf,OAAwBC,QAAxB,IAAwBA,OAAxB,EAAwBA,EAASD,OAIjCZ,EAAIqB,YACJ,IAAK,IAAIzB,EAAI,EAAGA,GAlBE,EAkBcA,IAAK,CACnC,IAAMb,EAAIgC,EAAOnB,EACX0B,EAAOC,KAAKC,MAAMlB,EAAOU,EAAWpB,GAC1CI,EAAIyB,YAAc,OAClBzB,EAAI0B,KAAO,yBACX1B,EAAI2B,UAAY,OAChB3B,EAAI4B,SAASN,EAAM,GAAIvC,EAAI0B,EAAU,IACrCT,EAAI6B,OAAO,EAAG9C,EAAI0B,GAClBT,EAAI8B,OAAOjB,EAAQF,MAAO5B,EAAI0B,GAGhCT,EAAI+B,SACJ/B,EAAIgC,YAIJhC,EAAIqB,YACJrB,EAAIiC,UAAY,EAChBjC,EAAIyB,YAAcxB,EAEd,OAAJf,QAAI,IAAJA,KAAMgD,SAAQ,YAAa,IAAD,mBAAVpD,EAAU,KAAPC,EAAO,KACxBiB,EAAI8B,OAAOhD,EAAIoC,EAAIL,EAAQD,QAAU7B,EAAIkC,EAAKR,OAEhDT,EAAI+B,SAEJ/B,EAAIqB,YACJrB,EAAIiC,UAAY,EAChBjC,EAAIyB,YAActB,EAEdD,IACG,OAALA,QAAK,IAALA,KAAOgC,SAAQ,YAAa,IAAD,mBAAVpD,EAAU,KAAPC,EAAO,KACzBiB,EAAI8B,OAAOhD,EAAIoC,EAAIL,EAAQD,QAAU7B,EAAIkC,EAAKR,QAGlDT,EAAI+B,SACJ/B,EAAIgC,YAWN,SAAS5B,EAAOlB,EAAMiD,GACpB,IAAIC,EACAC,EASJ,OAPI,OAAJnD,QAAI,IAAJA,KAAMgD,SAAQ,SAACI,GACb,IAAM/C,EAAiB,MAAT4C,EAAeG,EAAG,GAAKA,EAAG,GACrB,kBAARF,IAAkBA,EAAM7C,GAChB,kBAAR8C,IAAkBA,EAAM9C,GAC/B6C,EAAM7C,IAAO6C,EAAM7C,GACnB8C,EAAM9C,IAAO8C,EAAM9C,MAElB,CAAC6C,EAAQ,YAAHC,EAAoB,IAAUA,GAG7C,OArFAvC,EAAO,GAAOyC,mBACdzC,EAAO,GAAOyC,mBA8Dd/C,qBAAU,WAAO,IAAD,QAERQ,EAAG,UAAGF,EAAO,UAAV,iBAAG,EAAaqB,eAAhB,aAAG,EAAsBqB,WAAW,MACvCC,EAAI,UAAG3C,EAAO,UAAV,iBAAG,EAAaqB,eAAhB,aAAG,EAAsBqB,WAAW,MAC9CzC,EAAUD,EAAO,GAAME,EAAKd,EAAKb,KAAM,UAAWa,EAAKS,MAAO,WAC9DI,EAAUD,EAAO,GAAM2C,EAAMvD,EAAKQ,GAAI,aACrC,CAACR,IAiBF,mCACE,sBAAKwD,UAAU,MAAf,UACE,qBAAKA,UAAU,qBAAf,qQAGCC,OAAOC,KAAK9C,GAAQ+C,KAAI,SAACP,EAAIQ,GAAL,OACvB,qBAAKJ,UAAU,YAAf,SACE,qBAAKA,UAAU,OAAf,SACE,wBAAQK,GAAG,SAASC,IAAKlD,EAAO,GAAD,OAAIgD,EAAQ,IAAMJ,UAAW,kBAIlE,qBAAKA,UAAS,YAAd,SACGC,OAAOC,KAAKxE,GAASyE,KAAI,SAACI,GAAD,OACxB,sBAAKP,UAAU,YAAf,UACE,sBAAKtB,MAAO,CAAE8B,SAAU,QAAxB,UAAmC5D,EAAQ2D,GAA3C,MAAsD7E,EAAQ6E,MAC9D,cAAC,IAAD,CACE1D,MAAOnB,EAAQ6E,GAASrE,EAAeqE,GACvCE,SAAU,SAACjE,GAAWG,GAAW,SAAA+D,GAAI,kCAAUA,GAAV,kBAAiBH,EAAQ/D,EAAON,EAAeqE,SACpFb,IAAe,SAAVa,EAAmB,GAAK,EAC7BZ,IAAe,SAAVY,EAAmB,IAAM,aAKtC,sBAAKP,UAAU,eAAf,UACE,sBAAKA,UAAU,OAAf,UACE,qBAAKA,UAAU,iBACf,qBAAKA,UAAU,OAAf,qDAIF,sBAAKA,UAAU,OAAf,UACE,qBAAKA,UAAU,eACf,qBAAKA,UAAU,OAAf,oEC3JGW,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,K","file":"static/js/main.c1ed5ab0.chunk.js","sourcesContent":["export const options = {\n  time: 100,\n  gamma: 0.2,\n  delta: 0.0025,\n  sX: 60,\n  sY: 10,\n  alpha: 0.1,\n  beta: 0.002,\n}\nexport const multiplication = {\n  time: 1,\n  gamma: 100,\n  delta: 10000,\n  sX: 1,\n  sY: 1,\n  beta: 10000,\n  alpha: 200,\n}","\nexport const LodkaValterraFunc = (x, y, options) => {\n  const { alpha, beta, gamma, delta } = options;\n  const dxDt = (alpha - beta * y) * x;\n  const dyDt = (-gamma + delta * x) * y;\n  return [dxDt, dyDt]\n}","import React, { useEffect, useRef, useState } from 'react';\nimport './main.css';\nimport Slider from 'rc-slider';\nimport 'rc-slider/assets/index.css'\nimport * as option from './options'\nimport { LodkaValterraFunc } from './algoritm'\n\nfunction Main() {\n\n  const [data, setData] = useState({})\n  const [options, setOptions] = useState(option.options)\n  const multiplication = option.multiplication\n\n  const getName = (value) => {\n    switch (value) {\n      case `time`: return 'Время'\n      case `gamma`: return 'Гамма'\n      case `delta`: return 'Дельта'\n      case `sX`: return 'Начальное значение Х'\n      case `sY`: return 'Начальное значение У'\n      case `alpha`: return 'Хищники'\n      case `beta`: return 'Жертвы'\n    }\n  }\n\n  useEffect(() => {\n    setData(() => {\n      const payload = {\n        dx: [],\n        time: [],\n        time2: [],\n      }\n      let x = options.sX;\n      let y = options.sY;\n      for (let i = 0; i < options.time; i++) {\n        payload.dx.push([x, y]);\n        payload.time2.push([i, x]);\n        payload.time.push([i, y]);\n        const [dx, dy] = LodkaValterraFunc(x, y, options);\n        x += dx;\n        y += dy;\n      }\n      return payload\n    })\n  }, [options])\n\n  let canvas = {}\n  canvas['1'] = useRef();\n  canvas['2'] = useRef();\n\n  function buildLine(canvas, ctx, data, color, data2, color2) {\n    const [yMin, yMax] = minMax(data, 'y')\n    const [xMin, xMax] = minMax(data, 'x')\n    const padding = 40\n    const countLine = 5\n    const size = { width: 400, height: 250 }\n    const dpiSize = { width: size.width * 2, height: size.height * 2 }\n    const viewHeight = dpiSize.height - (padding * 2)\n    const step = viewHeight / countLine\n    const textStep = (yMax - yMin) / countLine\n    const deltaY = (yMax - yMin)\n    const deltaX = (xMax - xMin)\n    const Ky = viewHeight / deltaY\n    const Kx = dpiSize.width / deltaX\n    canvas.current.style.width = `${size?.width}px`\n    canvas.current.style.height = `${size?.height}px`\n    canvas.current.width = dpiSize?.width\n    canvas.current.height = dpiSize?.height\n\n    ///////////////////////////////////////////\n\n    ctx.beginPath()\n    for (let i = 0; i <= countLine; i++) {\n      const y = step * i\n      const text = Math.round(yMax - textStep * i)\n      ctx.strokeStyle = '#bbb'\n      ctx.font = 'normal 30px sans-serif'\n      ctx.fillStyle = '#000'\n      ctx.fillText(text, 10, y + padding - 10)\n      ctx.moveTo(0, y + padding)\n      ctx.lineTo(dpiSize.width, y + padding)\n    }\n\n    ctx.stroke()\n    ctx.closePath()\n\n    ///////////////////////////////////////////\n\n    ctx.beginPath()\n    ctx.lineWidth = 5;\n    ctx.strokeStyle = color\n\n    data?.forEach(([x, y]) => {\n      ctx.lineTo(x * Kx, dpiSize.height - (y * Ky + padding))\n    })\n    ctx.stroke()\n\n    ctx.beginPath()\n    ctx.lineWidth = 5;\n    ctx.strokeStyle = color2\n\n    if (data2) {\n      data2?.forEach(([x, y]) => {\n        ctx.lineTo(x * Kx, dpiSize.height - (y * Ky + padding))\n      })\n    }\n    ctx.stroke()\n    ctx.closePath()\n  }\n\n  useEffect(() => {\n    // console.log(data.time2,'222',data.time,'111')\n    const ctx = canvas['1']?.current?.getContext('2d')\n    const ctx2 = canvas['2']?.current?.getContext('2d')\n    buildLine(canvas['1'], ctx, data.time, '#c4416a', data.time2, '#31a84b')\n    buildLine(canvas['2'], ctx2, data.dx, '#c4416a')\n  }, [data])\n\n  function minMax(data, type) {\n    let min\n    let max\n\n    data?.forEach((el) => {\n      const value = type === 'y' ? el[1] : el[0];\n      if (typeof min !== 'number') min = value\n      if (typeof max !== 'number') max = value\n      if (min > value) min = value\n      if (max < value) max = value\n    })\n    return [min, max == `Infinity` ? 1000000 : max]\n  }\n\n  return (\n    <>\n      <div className=\"App\">\n        <div className=\"appSignature title\">\n        Модель Лодки-Вольтерры. Выполнил Филиппов Юрий.\n        </div>\n        {Object.keys(canvas).map((el, index) => (\n          <div className=\"container\">\n            <div className=\"card\">\n              <canvas id='canvas' ref={canvas[`${index + 1}`]} className={'canvas'} />\n            </div>\n          </div>\n        ))}\n        <div className={`sliderBox`}>\n          {Object.keys(options).map((param) => (\n            <div className=\"btns_item\">\n              <div style={{ minWidth: '60px' }}>{getName(param)} : {options[param]}</div>\n              <Slider\n                value={options[param] * multiplication[param]}\n                onChange={(data) => { setOptions(prev => ({ ...prev, [param]: data / multiplication[param] })) }}\n                min={param === 'time' ? 10 : 0}\n                max={param === 'time' ? 200 : 20}\n              />\n            </div>\n          ))}\n        </div>\n        <div className=\"appSignature\">\n          <div className=\"item\">\n            <div className=\"circle green\" />\n            <div className=\"text\">\n              Жертвы\n          </div>\n          </div>\n          <div className=\"item\">\n            <div className=\"circle red\" />\n            <div className=\"text\">\n              Хищники\n          </div>\n          </div>\n        </div>\n      </div>\n    </>\n\n  );\n}\n\nexport default Main;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Main from './Main.jsx';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Main />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}